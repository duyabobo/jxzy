# JXZY AI应用服务 v0.1

基于Go-Zero微服务框架构建的AI应用服务，采用三层微服务架构。**v0.1版本专注于核心对话功能**，为后续版本奠定基础。

## 📋 项目概述

JXZY v0.1是一个专注于智能对话的微服务平台，提供高性能、可扩展的AI对话服务能力。

## ✨ 核心功能

- 🤖 **智能对话**：基于豆包大模型的智能对话服务
- 🎯 **场景驱动**：基于业务场景自动选择最优LLM模型
- 📊 **数据库配置**：灵活的配置管理，支持动态更新
- 💬 **上下文管理**：会话上下文和历史记录管理
- 🚀 **流式输出**：支持SSE流式响应，提升用户体验
- 🏗️ **微服务架构**：Gateway → BllsContext-RPC → BsLlm-RPC 简化调用链路
- 🔧 **多模型支持**：支持豆包、百炼、OpenAI等多种大模型供应商

## 🏗️ 架构设计

### 三层微服务架构

v0.1版本采用精简的三层架构，专注于核心对话功能：

```
┌─────────────────────────────────────────────────────────────┐
│                        Gateway Layer                        │
│                     (APIs - Port 8888)                     │
└─────────────────────────┬───────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────┐
│                 Business Logic Layer (BLLs)                │
├─────────────────────────────────────────────────────────────┤
│                  ┌─────────────────┐                       │
│                  │ BllsContext-RPC │                       │
│                  │  (Port 8001)    │                       │
│                  └─────────┬───────┘                       │
└─────────────────────────────┼───────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                  Basic Service Layer (BS)                  │
├─────────────────────────────────────────────────────────────┤
│                  ┌─────────────────┐                       │
│                  │   BsLlm-RPC     │                       │
│                  │  (Port 8003)    │                       │
│                  └─────────────────┘                       │
└─────────────────────────────────────────────────────────────┘
```

**调用关系**: Gateway → BllsContext-RPC → BsLlm-RPC

### 服务详情

#### Gateway Layer (APIs)
- **端口**: 8888
- **功能**: 对外提供HTTP API接口，处理用户请求
- **技术栈**: Go-Zero Gateway

#### Business Logic Layer (BLLs)
- **BllsContext-RPC (Port 8001)**
  - **服务定位**: 上下文工程的核心RPC服务
  - **核心功能**: 
    - 会话上下文管理和持久化
    - 对话历史记录存储和检索
    - 业务逻辑调度和流程控制
    - LLM模型选择策略和场景路由
    - 用户会话状态管理
  - **数据边界**: 负责所有与会话上下文相关的数据操作和业务逻辑

#### Basic Service Layer (BS)
- **BsLlm-RPC (Port 8003)**
  - **服务定位**: 大语言模型服务的基础RPC
  - **核心功能**:
    - 大语言模型接口封装和抽象
    - 多供应商模型统一接入
    - 流式响应处理和优化
    - 模型配置管理和动态切换
    - Token使用统计和成本控制
  - **数据边界**: 专注于LLM调用，不涉及业务上下文管理

## 🚀 快速开始

### 环境要求
- Go 1.19+
- MySQL 8.0+
- Redis 6.0+

### 启动服务
```bash
# 启动Gateway
cd apis && go run main.go

# 启动BllsContext-RPC (上下文工程服务)
cd blls/blls_context && go run bllscontext.go

# 启动BsLlm-RPC (大语言模型服务)
cd bs/bs_llm && go run bsllm.go
```

## 📈 性能特点

- **高并发**: 支持万级并发对话
- **低延迟**: 毫秒级响应时间
- **流式输出**: 实时流式响应
- **弹性扩容**: 支持水平扩展

## 🔗 相关文档

- [v0.2版本规划](../v0.2/README.md)
- [项目总览](../../README.md)
